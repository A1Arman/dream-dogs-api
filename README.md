# Dream-Dogs

Dream-Dogs helps owners struggling to provide for their dogs to find a safe new home.

## Motivation

We wanted an app for dog owners going through tough times that could find a new safe loving home for their dogs.

## Demo
- [Live Demo](https://a1arman-dream-dogs.now.sh/)

## Installing
Install the dependencies and devDependencies and start the server.
```
npm install  
npm start
```

## Testing
To run back-end tests run ```npm test``` in terminal.

## Schema

### User
```
(
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    first_name TEXT NOT NULL,
    last_name TEXT NOT NULL,
    password TEXT NOT NULL,
    email TEXT NOT NULL UNIQUE
);
```

### Dog Posts
```
(
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    dog_name TEXT NOT NULL,
    email TEXT NOT NULL UNIQUE,
    breed TEXT NOT NULL,
    birthdate DATE NOT NULL,
    lifestyle TEXT NOT NULL,
    owner INTEGER REFERENCES users(id) ON DELETE CASCADE NOT NULL
);
```

## API Overview
```
/api
.
|__ /auth
|    |__ POST
|        |__ /login
|  
|__ /posts
|   |__ GET
|   |    |__ /
|   |    |__ /myPost
|   |    |__ /:post_id
|   |__ POST
|   |   |__ /
|   |__ PATCH
|   |   |__ /:post_id
|   |__ DELETE
|   |   |__ /:post_id   
|__ /users
|    |__ POST
|    |    |__ /
|    |__ GET
|    |    |__ /
|    |    |__ /user
|    |__PATCH
|    |  |__ /user
|    |__ DELETE
|        |__ /user        
```

### POST ```/api/auth/login```
```
// req.body
{
  email: String,
  password: String
}

// res.body
{
  authToken: String
}
```

### GET ```/api/posts```
```
// res.body
[
  {
    id: Number,
    dog_name: String,
    email: String,
    breed: String,
    birthdate: Date,
    lifestyle: String,
    owner_id: Number
  }  
]
```

### GET ```/api/posts/myPost```
```
// req.header
Authorization: Bearer ${token}

// res.body
[
  {
    dog_name: String,
    email: String,
    breed: String,
    birthdate: Date,
    lifestyle: String
  }
]
```

### GET ```/api/posts/:post_id```
```
// req.header
Authorization: Bearer ${token}

// req.params
  post_id: Number

// res.body
[
  {
    id: Number,
    dog_name: String,
    email: String,
    breed: String,
    birthdate: Date,
    lifestyle: String,
    owner_id: Number
  }  
]
```

### POST ```/api/posts```
```
// req.header
Authorization: Bearer ${token}

// req.body
{
  dog_name: String,
  birthdate: Date,
  breed: String,
  lifestyle: String
}
```

### DELETE ```/api/posts/:post_id```
```
// req.header
Authorization: Bearer ${token}

// req.params
  post_id: Number
```

### PATCH ```/api/posts/:post_id```
```
// req.header
Authorization: Bearer ${token}

// req.body
{
  dog_name: String,
  birthdate: Date,
  breed: String,
  lifestyle: String
}
```
### GET ```/api/users```
```
// req.header
Authorization: Bearer ${token}

// res.body
[
  {
    first_name: String,
    last_name: String,
    email: String,
    password: String
  }
]
```
### GET ```/api/users/user```
```
// req.header
Authorization: Bearer ${token}

// req.user
id: Number

// res.body
[
  {
    first_name: String,
    last_name: String,
    email: String,
    password: String
  }
]
```

### POST ```/api/users```
```
// req.body
{
  first_name: String,
  last_name: String,
  email: String,
  password: String
}

// res.body
[
  {
    id: Number,
    first_name: String,
    last_name: String,
    email: String,
    password: String
  }
]
```

### DELETE ```/api/users/user```
```
// req.header
Authorization: Bearer ${token}

// req.user
id: Number
```

### PATCH ```/api/posts/user```
```
// req.header
Authorization: Bearer ${token}

// req.body
{
  first_name: String,
  last_name: String,
  email: String,
  password: String
}
```


## Screenshots
Landing Page:
![Image of Dream-Dogs Landing Page](https://github.com/A1Arman/Dream-Dogs-Client/blob/master/dream-dogs/src/screenshot-images/Capture.PNG)

Dog Posts Page:
![Image of Dream-Dogs Dog Posts Page](https://github.com/A1Arman/Dream-Dogs-Client/blob/master/dream-dogs/src/screenshot-images/Capture1.PNG)

Create Dog Post Page:
![Image of Dream-Dogs Create Post Page](https://github.com/A1Arman/Dream-Dogs-Client/blob/master/dream-dogs/src/screenshot-images/Capture3.PNG)

My Posts Page:
![Image of Dream-Dogs My Posts Page](https://github.com/A1Arman/Dream-Dogs-Client/blob/master/dream-dogs/src/screenshot-images/Capture4.PNG)

Update Dog Post Page:
![Image of Dream-Dogs Update Dog Post Page](https://github.com/A1Arman/Dream-Dogs-Client/blob/master/dream-dogs/src/screenshot-images/Capture5.PNG)

Sign Up Page:
![Image of Dream-Dogs Sign Up Page](https://github.com/A1Arman/Dream-Dogs-Client/blob/master/dream-dogs/src/screenshot-images/Capture6.PNG)

## Built With

### Front-End
- React
- HTML
- CSS

### Back-End
- PostgreSQL
- Express
- Node
- Knex

### Testing
- Mocha
- Chai 
- Jest
- Enzyme

### Authentication
- bcrypt
- JWTs

## Features
- Create a dog post
- Create a user profile
- See dog posts
- See logged in user dog posts
- Update dog posts
- Update user profile
- Delete logged in users dog posts
- Delete logged in user profile
